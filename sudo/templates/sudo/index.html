<!doctype html>
<html lang="zh-CN">

<head>
    <!-- 必须的 meta 标签 -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    {% load static %}
    <link rel="stylesheet" href="{% static 'sudo/test.css' %}">

    <title>Hello, world!</title>
</head>

<body>
    <nav class="sudoku-nav">
        <ul>
            <li><a href="#">每日一题</a></li>
            <li><a href="#">初级</a></li>
            <li><a href="#">中级</a></li>
            <li><a href="#">高级</a></li>
            <li><a href="#">排行榜</a></li>
        </ul>
    </nav>
    <div class="sudoku-container">
        <div class="sudoku-info">
            <h2>数独信息</h2>
            <div class="info-item">
                <span class="info-label">难度:</span>
                <span class="info-value" id="create-time">{{ difficulty }}</span>
            </div>
            <div class="info-item">
                <span class="info-label">挑战人数:</span>
                <span class="info-value" id="total-players">{{ try_nums }}</span>
            </div>
            <div class="info-item">
                <span class="info-label">成功人数:</span>
                <span class="info-value" id="success-players">{{ sloved_nums }}</span>
            </div>
        </div>
        <div class="sudoku-game">
            <div id="datetime" class="datetime-container"></div>
            <table id="sudoku" data-mark="{{ mark }}">
        {% for row in nums %}
        <tr>
            {% for col in row %}
            <td>
                {% if col != "0" %}{{ col }}{% endif %}
            </td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>

    <script src="{% static 'sudo/test.js' %}"></script>
    <script>
        function updateDateTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            };
            document.getElementById('datetime').textContent = now.toLocaleDateString('zh-CN', options);
        }
        updateDateTime();
        setInterval(updateDateTime, 1000);
    </script>
</body>

</html>